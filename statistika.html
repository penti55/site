<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Статистика</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="authenticated">
    <div class="app">
        <!-- === Шапка === -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">КФХ</div>
                    <div>
                        <div class="system-title">Система управления КФХ</div>
                        <div style="font-size: 0.85rem; opacity: 0.8;">
                            Информационная система фермерских хозяйств
                        </div>
                    </div>
                </div>
                <div class="user-info">
                    <div>
                        <div style="font-size: 0.9rem;">Иванов И.И.</div>
                        <div style="font-size: 0.8rem; opacity: 0.8;">Аналитик</div>
                    </div>
                    <div class="user-avatar">ИИ</div>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- === Боковая панель === -->
            <aside class="sidebar">
                <nav>
                    <!-- ===== Раздел «Основное» ===== -->
                    <div class="nav-section">
                        <div class="nav-title">Основное</div>
                        <a href="index.html" class="nav-item"><span class="nav-icon">●</span> Главная страница</a>
                        <a href="khozyaystva.html" class="nav-item"><span class="nav-icon">●</span> Хозяйства КФХ</a>
                        <a href="produkciya.html" class="nav-item"><span class="nav-icon">●</span> Продукция</a>
                        <a href="zaprosy.html" class="nav-item"><span class="nav-icon">●</span> Запросы</a>
                    </div>

                    <!-- ===== Раздел «Аналитика» ===== -->
                    <div class="nav-section">
                        <div class="nav-title">Аналитика</div>
                        <a href="statistika.html" class="nav-item active"><span class="nav-icon">●</span> Статистика</a>
                        <a href="otchety.html" class="nav-item"><span class="nav-icon">●</span> Отчёты</a>
                        <a href="analitika.html" class="nav-item"><span class="nav-icon">●</span> Аналитика</a>
                    </div>

                    <!-- ===== Раздел «Управление» ===== -->
                    <div class="nav-section">
                        <div class="nav-title">Управление</div>
                        <a href="polzovateli.html" class="nav-item"><span class="nav-icon">●</span> Пользователи</a>
						<a href="zayavki_kfh.html" class="nav-item"><span class="nav-icon">●</span> Заявки КФХ</a>
                        <a href="dokumenty.html" class="nav-item"><span class="nav-icon">●</span> Документы</a>
                        <a href="klassifikaciya_produkcii.html" class="nav-item">
                            <span class="nav-icon">●</span> Классификация продукции
                        </a>
                        <a href="klassifikaciya_zaprosov.html" class="nav-item">
                            <span class="nav-icon">●</span> Классификация запросов
                        </a>
                        <a href="segments_kfh.html" class="nav-item"><span class="nav-icon">●</span> Сегменты КФХ</a>
                        <a href="specializacii.html" class="nav-item"><span class="nav-icon">●</span> Специализации</a>
                    </div>
                </nav>
            </aside>

            <!-- === Основное содержимое === -->
            <main class="main-content">
                <div class="content-header">
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <h1 class="page-title">Статистика</h1>
                            <p class="page-subtitle">Сбор и анализ статистических данных</p>
                        </div>
                        <button class="btn btn-primary" data-modal-open="modalAddStat">
                            <span>+</span> Добавить запись
                        </button>
                    </div>
                </div>
                <div class="content-body">
                    <div class="table-section">
                        <div class="table-header">
                            <h3 class="table-title">Статистические записи</h3>
                            <div class="filters">
                                <select id="periodFilter">
                                    <option value="all">Все периоды</option>
                                    <option value="День">День</option>
                                    <option value="Неделя">Неделя</option>
                                    <option value="Месяц">Месяц</option>
                                </select>
                                <select id="metricTypeFilter">
                                    <option value="all">Все типы метрик</option>
                                    <option value="Объём">Объём</option>
                                    <option value="Выручка">Выручка</option>
                                    <option value="Прибыль">Прибыль</option>
                                </select>
                            </div>
                        </div>
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>ID статистики</th>
                                    <th>Период</th>
                                    <th class="sortable" data-order="none">Средняя цена</th>
                                    <th>Тип метрики</th>
                                    <th class="sortable" data-order="none">Значение</th>
                                    <th class="sortable" data-order="none">Дата записи</th>
                                    <th>ID запроса</th>
                                    <th>Действия</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>301</td>
                                    <td>Месяц</td>
                                    <td>30.25</td>
                                    <td>Объём</td>
                                    <td>45 200.00</td>
                                    <td>01.06.2025 10:00</td>
                                    <td>101</td>
                                    <td>
                                        <div class="dropdown">
                                            <button class="dropdown-toggle">⋯</button>
                                            <div class="dropdown-menu">
                                                <button class="dropdown-item">Редактировать</button>
                                                <button class="dropdown-item">Удалить</button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>302</td>
                                    <td>Неделя</td>
                                    <td>28.00</td>
                                    <td>Выручка</td>
                                    <td>1 280 000.00</td>
                                    <td>02.06.2025 14:00</td>
                                    <td>102</td>
                                    <td>
                                        <div class="dropdown">
                                            <button class="dropdown-toggle">⋯</button>
                                            <div class="dropdown-menu">
                                                <button class="dropdown-item">Редактировать</button>
                                                <button class="dropdown-item">Удалить</button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td>303</td>
                                    <td>День</td>
                                    <td>27.50</td>
                                    <td>Прибыль</td>
                                    <td>56 000.00</td>
                                    <td>03.06.2025 09:00</td>
                                    <td>103</td>
                                    <td>
                                        <div class="dropdown">
                                            <button class="dropdown-toggle">⋯</button>
                                            <div class="dropdown-menu">
                                                <button class="dropdown-item">Редактировать</button>
                                                <button class="dropdown-item">Удалить</button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>

        <!-- === Модальное окно «Добавить статистическую запись» === -->
        <div id="modalAddStat" class="modal-overlay">
            <div class="modal">
                <button class="close-btn" data-modal-close>×</button>
                <h3>Добавить статистическую запись</h3>
                <form>
                    <label for="period">Период</label>
                    <select id="period" required>
                        <option value="">— Выберите период —</option>
                        <option value="День">День</option>
                        <option value="Неделя">Неделя</option>
                        <option value="Месяц">Месяц</option>
                    </select>

                    <label for="avgPrice">Средняя цена</label>
                    <input type="number" step="0.01" id="avgPrice" required>

                    <label for="metricType">Тип метрики</label>
                    <input type="text" id="metricType" required>

                    <label for="metricValue">Значение метрики</label>
                    <input type="number" step="0.01" id="metricValue" required>

                    <label for="statDateTime">Дата записи</label>
                    <input type="datetime-local" id="statDateTime" required>

                    <label for="reqFkStat">ID запроса</label>
                    <select id="reqFkStat" required>
                        <option value="">— Выберите запрос —</option>
                        <option value="101">101</option>
                        <option value="102">102</option>
                        <option value="103">103</option>
                    </select>

                    <button type="submit" class="btn btn-primary">Сохранить</button>
                </form>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>